<!DOCTYPE html>
<head>
  <link rel="stylesheet" type="text/css" href="assets/style.css" />
</head>
<body class="overlays">
  <section class="controls">
    <button id="tilesheet">Change tilesheets (tab)</button>
    <button id="overlays">Toggle (o)verlays</button>
    <button id="unselect">Cancel selection (esc)</button>
    <button id="clear">(C)lear under cursor</button>
    <button id="dump">(D)ump BaseSprites SQL</button>
    <button id="imgops">Dump (I)mage ops</button>
  </section>

  <h1 class="loading">Loading tilesheets...</h1>

  {% for tilesheet in tilesheets %}
    <section class="tilesheet" data-tilesheet="{{ tilesheet.filename }}">
      <h1>{{ tilesheet.filename }}</h1>
      <div class="tilesheet-container">
        <canvas></canvas>
        {% for bs in tilesheet.basesprites %}
          {% set rect = bs.rect %}
          <div
            class="basesprite"
            data-index="{{ bs.index }}"
            data-id="{{ bs.id }}"
            data-tilesheet="{{ bs.tilesheet }}"
            data-rect="{{ rect.x }} {{ rect.y }} {{ rect.w }} {{ rect.h }}"
            data-uses="{{ uses[bs.id]|join(',') }}"
            style="
              left: {{ rect.x }}px;
              top: {{ rect.y }}px;
              height: {{ rect.h }}px;
              width: {{ rect.w }}px;"></div>
        {% endfor %}
      </div>
    </section>
  {% endfor %}

  <div class="code">
    <div class="code-controls">
      <button id="copy">Copy</button>
      <button id="hide">Close</button>
    </div>
    <code></code>
  </div>
  <div class="info"></div>
  <script src="assets/spriteref.js"></script>
</body>